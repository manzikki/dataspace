<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <title>Editor</title>
  </head>
  <body>
  <div class="container">
    {{ file }}

    <br/>
    <form method="post" action=" {{ url_for('editmetasubmit') }} ">
    <input type="hidden" name="numlines" value="{{numlines}}"/>  
    <input type="hidden" name="file" value="{{file}}"/>
    <input size="70" name="descr" value="{{descr}}" required/>
    <br/><br/>
<table id="fields" border="0" class="table">
<tr>
<thead class="thead-light">
<th>Field name</th> <th>Description</th>  <th> Sample </th> <th> </th> <th>Measure properties</th>
</thead>
</tr>
    {% for f in fieldlist %}
<tr>
     <td width="7%"> <input type="text" name="{{loop.index}}-{{ f.name }}" value="{{ f.name }}" size="20" required> </td><td width="10%"> <input type="text" size="20" name="{{loop.index}}-{{ f.name }}=descr" value="{{ f.descr }}" required> </td>
     <td width="7%"> {{ f.sample }} </td> <td > </td> <td width="45%"> Unit: <input type="text" size="10" name="{{loop.index}}-{{ f.name }}=unit" value="{{ f.unit }}"/> 
     Scale:
     <select name="{{loop.index}}-{{f.name}}=scale"><option></option><option value="nominal" {% if f.scale == "nominal" %}selected{% endif %}>Nominal</option>
                         </option><option value="nominal" {% if f.scale == "ordinal" %}selected{% endif %}>Ordinal</option>
                         </option><option value="interval" {% if f.scale == "interval" %}selected{% endif %}>Interval</option>
                         </option><option {% if f.scale == "ratio" %}selected{% endif %} value="ratio">Ratio</option>
                      </select>

     E-ness:
     <select name="{{loop.index}}-{{f.name}}=eventness"><option></option><option value="tally" {% if f.eventness == "tally" %}selected{% endif %}>Tally</option>
                         </option><option value="reckoning" {% if f.eventness == "reckoning" %}selected{% endif %}>Reckoning</option>
                         </option><option value="snapshot" {% if f.eventness == "snapshot" %}selected{% endif %}>Snapshot</option>
                      </select>
     </td>
</tr>
<td>Data type:</td><td><select name="{{loop.index}}-{{f.name}}=datatype"><option></option>
    <option value="integer" {% if f.datatype == "integer" %}selected{% endif %} >Integer</option>
    <option value="string" {% if f.datatype == "string" %}selected{% endif %} >String</option>
    <option value="decimal" {% if f.datatype == "decimal" %}selected{% endif %} >Decimal</option>
    <option value="datetime" {% if f.datatype == "datetime" %}selected{% endif %} >Date/Time</option>
  </select>
<tr>     
</tr>
    {% endfor %}
    <br/>
<tr>
  <td><button type="submit">Submit</button></td></form><td><button><a href="{{ url_for('appmain')}}">Cancel</a></button></td>
</tr>

  </div>

</table>

  </body>
</html>

